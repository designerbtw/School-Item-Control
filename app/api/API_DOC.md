# **Документация к API**

API веб-приложения позволяет удобно интегрировать его с внешними системами автоматизации закупок

---

## API Endpoints

#### **1. Создание закупки**

- **Эндпоинт:** `/create_purchase`  
- **Метод:** `POST`  
- **Описание:** Создает новую запись о закупке в базе данных.  

**Тело запроса:**
```
{
  "name": "Название товара",           // Название закупаемого товара
  "supplier": "Название поставщика",   // Имя компании поставщика
  "price": 12345,                      // Цена за единицу товара
  "quantity": 100                      // Количество единиц товара
}
```

**Ответ:**
```
{
  "status": "success",    // Статус операции
  "id": 1                 // ID созданной закупки (только в случае успеха)
}
```

**Коды состояния HTTP:**
- `201`: Закупка успешно создана.
- `400`: Некорректные данные в запросе.
- `500`: Ошибка на сервере.

**Пример запроса:**
```bash
curl -X POST http://localhost:5000/api/create_purchase \
-H "Content-Type: application/json" \
-d '{
  "name": "Мячи для тенниса",
  "supplier": "ООО Супер-мяч",
  "price": 12990,
  "quantity": 160
}'
```

---

#### **2. Удаление закупки**

- **Эндпоинт:** `/delete_purchase`  
- **Метод:** `DELETE`  
- **Описание:** Удаляет существующую закупку из базы данных.  

**Тело запроса:**
```
{
  "id": 1  // Уникальный идентификатор закупки
}
```

**Ответ:**
```
{
  "status": "success"     // Статус операции
}
```

**Коды состояния HTTP:**
- `200`: Закупка успешно удалена.
- `404`: Закупка с указанным ID не найдена.
- `500`: Ошибка на сервере.

**Пример запроса:**
```bash
curl -X DELETE http://localhost:5000/api/delete_purchase \
-H "Content-Type: application/json" \
-d '{"id": 1}'
```

---


#### **3. Получение списка текущих закупок**

- **Эндпоинт:** `/purchases`  
- **Метод:** `GET`  
- **Описание:** Возвращает список всех текущих закупок.

**Ответ:**
```
{
  "purchases": (list):    //Список всех закупок.
  "status": "success"     // Статус операции
}
```

**Коды состояния HTTP:**
- `200`: Закупка успешно удалена.
- `500`: Ошибка на сервере.

**Пример запроса:**
```bash
curl -X GET http://localhost:5000/api/purchases
```